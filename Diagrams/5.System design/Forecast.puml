@startuml Forecast
title Data Flow for Sales Forecasting

actor "Administrator/Seller" as AdminOrSeller
participant "Browser" as Browser
participant "Web Application\n(.NET MVC)" as WebApp
participant "Prediction API\n(Python FastAPI)" as PredictionAPI

AdminOrSeller -> Browser : Clicks "Forecast" button
Browser -> WebApp : HTTP POST /Forecast (with product and year data)
activate WebApp

WebApp -> PredictionAPI : HTTP POST /predict/yearly
note right
Sends JSON with:
- product_id
- year
end note
activate PredictionAPI

PredictionAPI -> PredictionAPI : Retrieve and load model
PredictionAPI -> PredictionAPI : Perform prediction
PredictionAPI --> WebApp : Returns JSON with forecasts
deactivate PredictionAPI

WebApp --> Browser : Returns page with forecast
deactivate WebApp

Browser -> AdminOrSeller : Displays the result
@enduml