<div class="container mt-4">
    <h4>Налични потребители за поддържка</h4>
    <div id="availableSellers">
    </div>
</div>

<div id="chatPopup" class="chat-popup" style="display: none;">
    <div class="d-flex justify-content-end">
        <button id="closeBtn" class="btn btn-primary btn-close"></button>
    </div>
    <div class="card" id="chat1" style="border-radius: 15px;">
        <div
            class="card-header d-flex justify-content-between align-items-center p-3 bg-info text-white border-bottom-0"
            style="border-top-left-radius: 15px; border-top-right-radius: 15px;">
            <i class="fas fa-angle-left"></i>
            <p class="mb-0 fw-bold" id="liveChat"></p>
            <i class="fas fa-times"></i>
        </div>

        <div class="card-body chat-messages" id="chatMessages"></div>

        <div class="p-3 chat-request-buttons" style="display: none;">
            <div class="d-flex justify-content-between">
                <button id="declineBtn" class="btn btn-danger">Откажи</button>
                <button id="acceptBtn" class="btn btn-success">Приеми</button>
            </div>
        </div>
        <div class="p-3 chat-input-area" style="display: none;">
            <div class="mb-2">
                <textarea class="form-control bg-body-tertiary" id="messageInput" rows="3"
                          style="resize: none;"></textarea>
            </div>
            <div class="d-flex justify-content-end">
                <button id="sendBtn" class="btn btn-primary btn-sm">Изпрати</button>
            </div>
        </div>

    </div>
</div>

@if (User.Identity != null)
{
    <input type="hidden" id="currentUserId" value="@(User.Identity.IsAuthenticated ? User.GetId() : "-1")"/>
    <input type="hidden" id="currentUserSeller"
           value="@(User.Identity.IsAuthenticated && (User.IsSeller() || User.IsAdmin()))"/>
}

